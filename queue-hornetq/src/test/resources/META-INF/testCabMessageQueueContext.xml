<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright 2014 Cisco Systems, Inc.
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"
       default-init-method="startup" default-destroy-method="shutdown"
       default-lazy-init="true">
	
	<import resource="cabMessageQueueContext.xml"/>
	
	<bean id="myListener" class="com.cisco.vss.foundation.messageQ.test.ExampleListener"></bean>
	
<!-- 	<bean name="connectionFactory" class="org.hornetq.jms.client.HornetQJMSConnectionFactory">
		<constructor-arg value="false" />
		<constructor-arg index="1" ref="tc2"/>
	</bean>
	
	<bean name="tc2" class="org.hornetq.api.core.TransportConfiguration">
		<constructor-arg
			value="org.hornetq.core.remoting.impl.netty.NettyConnectorFactory" />
		<constructor-arg>
			<map>
				<entry key="host" value="ch-bench3" />
				<entry key="port" value="5900" />
			</map>
		</constructor-arg>
	</bean>
	
	<bean id="destination" class="org.hornetq.jms.client.HornetQTopic">
		<constructor-arg value="UPM-COGECO" />
	</bean>
	
	<bean id="myListenerContainer"
		class="org.springframework.jms.listener.DefaultMessageListenerContainer" lazy-init="false">
		<property name="connectionFactory" ref="connectionFactory" />
		<property name="destination" ref="destination" />
		<property name="messageListener" ref="myListener" />
		<property name="subscriptionDurable" value="true" />
		<property name="durableSubscriptionName" value="deploy" />
		<property name="clientId" value="deploy" />
		<property name="autoStartup" value="false"/>
	</bean>  -->
	
	<bean id="myListenerContainer" parent="topicConsumer" lazy-init="false">
		<constructor-arg value="myTopicExampleQueue" />
		<constructor-arg ref="myListener" />
		<constructor-arg value="true" />
		<constructor-arg  value="test4" />
		<constructor-arg  value="test4" />
	</bean> 
	
<!-- 	<bean id="myBubuContainer" parent="topicConsumer">
		<constructor-arg value="kuku" />
		<constructor-arg ref="myListener" />
		<constructor-arg value="true" />
		<constructor-arg  value="CC1" />
		<constructor-arg  value="CC1" />
		<property name="messageSelector" value="selector='abc/def'" />
	</bean>
	 -->
<!-- 	<bean id="myFirstListener" class="com.nds.cab.infra.messageQ.test.ExampleListener"></bean>
	
	<bean id="myFirstListenerContainer" parent="topicConsumer">
		<property name="topicDestination" value="blabla123" />
		<property name="messageListener" ref="myFirstListener" />
		<property name="subscriptionDurable" value="true" />
		<property name="durableSubscriptionName" value="two0" />
		<property name="clientId" value="durable subscriber 30" />
		<property name="messageSelector" value="selector='abc'" />
	</bean>
	
	<bean id="mySecondListener" class="com.nds.cab.infra.messageQ.test.ExampleListener"></bean>
	
	<bean id="mySecondListenerContainer" parent="topicConsumer">
		<property name="topicDestination" value="blabla123" />
		<property name="messageListener" ref="mySecondListener" />
		<property name="subscriptionDurable" value="true" />
		<property name="durableSubscriptionName" value="two0" />
		<property name="clientId" value="durable subscriber 30" />
		<property name="messageSelector" value="IntKey=123" />
	</bean> -->
</beans>